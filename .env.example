# =============================================================================
# Variáveis de ambiente – ver .env.example e configurar em .env.local / Vercel
# =============================================================================
# Na Vercel: Settings → Environment Variables (Production e/ou Preview)
# Local: copiar para .env.local (nunca commitar .env ou .env.local)
# =============================================================================

# --- Obrigatórias (app mostra /config-required na Vercel se faltar) ---

# Segredo para sessões NextAuth. Gerar: https://generate-secret.vercel.app/32
# ou: openssl rand -base64 32
AUTH_SECRET=****

# PostgreSQL – connection string (Supabase, Neon, etc.)
# Supabase: Dashboard → Settings → Database. Preferir pooler (porta 6543).
POSTGRES_URL=postgresql://user:password@host:5432/postgres

# --- Opcionais (Vercel preenche automaticamente em deploy) ---

# AI Gateway – na Vercel usa OIDC; fora da Vercel precisa de API key
# https://vercel.com/ai-gateway
# AI_GATEWAY_API_KEY=****

# Vercel Blob – upload de ficheiros (se não usares Supabase Storage)
# https://vercel.com/docs/vercel-blob
# BLOB_READ_WRITE_TOKEN=****

# --- Supabase (cliente: Auth, Storage, Realtime) ---
# Dashboard → Settings → API. Necessário para upload via Storage (senão usa Blob).
# NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
# NEXT_PUBLIC_SUPABASE_ANON_KEY=****
# SUPABASE_SERVICE_ROLE_KEY=****
# Bucket para ficheiros do chat (criar em Storage). Default: chat-files
# SUPABASE_STORAGE_BUCKET=chat-files

# --- Opcionais avançados ---
# Redis – rate limiting do chat. https://vercel.com/docs/redis
# REDIS_URL=****

# =============================================================================
# Troubleshooting: HTTP 500 na Vercel
# =============================================================================
# Se vires "não consegue processar este pedido" (500): o middleware redireciona
# para /config-required quando AUTH_SECRET ou POSTGRES_URL faltam. Confirma em
# Vercel → Project → Settings → Environment Variables (Production) que estão
# definidas e faz um redeploy. Se 500 persistir, verifica Vercel → Deployments
# → Logs (Runtime) para a mensagem de erro real.
